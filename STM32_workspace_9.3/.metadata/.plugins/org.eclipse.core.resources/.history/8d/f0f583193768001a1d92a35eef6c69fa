#include<stdio.h>
#include<string.h>	//strlen
#include<sys/socket.h>
#include<arpa/inet.h>	//inet_addr
#include"debug.h"
#include<errno.h> //errno
#include<unistd.h>
#include "client.h"

int main(int argc , char *argv[]){
	int is_connect;
	char *message;


	while (1){
		message = "Hello world !\n";
		is_connect = connect_to_remote_server();
		int myerror;
		if( send(is_connect , message , strlen(message) , 0) < 0)
		{
			myerror = errno;
			error_printf("Send failed // Num error : [%i] // Message_error : [%s]\n", myerror,strerror(myerror));
			is_connect = connect_to_remote_server();
			while (is_connect == -1){
				sleep(2);
				is_connect = connect_to_remote_server();
			}
		}
		else{
			puts("Data Send\n");
		}
		sleep(2);
	}
	return 0;
}
